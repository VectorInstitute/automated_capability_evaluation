# =============================================================================
# EXPERIMENT CONFIGURATION
# =============================================================================

exp_cfg:
  exp_id: "test_exp"
  seed: 37
  trial_run: false

global_cfg:
  domain: personal finance
  output_dir: base_output/
  pipeline_type: base

# =============================================================================
# GENERATION PIPELINE
# =============================================================================

# LLM for generation stages (1-5)
scientist_llm:
  name: o4-mini
  provider: openai
  generation_cfg:
    capability_generation:
      temperature: 0.7
      max_tokens: 16384
      seed: 42
    task_generation:
      temperature: 0.7
      max_tokens: 32768
      seed: 42
    task_solve:
      temperature: 0.7
      max_tokens: 2048
      seed: 42
    task_verify:
      temperature: 0.7
      max_tokens: 2048
      seed: 42

# Stage control
stage: "all"  # Which stage to run: 0, 1, 2, 3, 4, 5, or "all"

# Stage tags (for running individual stages or resuming)
areas_tag: null           # Stage 1 output tag (required for stage 2 standalone)
capabilities_tag: null    # Stage 2 output tag (required for stage 3 standalone)
tasks_tag: null           # Stage 3 output tag (required for stage 4 standalone)
solution_tag: null        # Stage 4 output tag (required for stage 5 standalone)
validation_tag: null      # Stage 5 output tag (required for eval pipeline)
eval_tag: null            # Eval Stage 1 output tag (required for eval stage 2, optional for stage 1 resume)

# Stage 1: Area generation
areas_cfg:
  num_areas: 2

# Stage 2: Capability generation
capabilities_cfg:
  num_capabilities: 4
  num_capabilities_buffer: 0.1
  num_gen_capabilities_per_run: 1

# Embedding config (used for capability filtering in Stage 2)
embedding_cfg:
  embedding_model: text-embedding-3-small
  embedding_size: 1536
  filtering_similarity_threshold: 0.85

# Stage 3: Task generation
task_generation_cfg:
  tasks_per_blueprint: 1
  min_subtopics: 1
  max_subtopics: 1

# =============================================================================
# EVALUATION PIPELINE
# =============================================================================

eval_cfg:
  # LLMs to evaluate (required)
  subject_llms:
    - name: gpt-4o
      provider: openai
    - name: claude-3-sonnet
      provider: anthropic

  # Judge LLM for scoring (required)
  judge_llm:
    name: gpt-4o-mini
    provider: openai

# =============================================================================
# HYDRA
# =============================================================================

defaults:
  - _self_
  - capabilities: personal_finance
