prompt_cfg:
  sys_msg: Compute benchmark quality metrics from existing scores.

quality_eval_cfg:
  scores_root_dir: "/projects/DeepLesion/projects/automated_capability_evaluation/data/scores_sample"
  scores_subdir: "scores"
  prior_datasets:
    - "/projects/DeepLesion/projects/automated_capability_evaluation/data/scores_sample/math-500"

  capabilities_dir: "/projects/aieng/public/ace/artifacts/negin_ace/taks/math/"
  synthetic_dataloader_config: null  # Optional: custom dataloader for capabilities_dir (e.g. jsonl, csv, huggingface)

  real_data_dir: null

  real_dataloader_config:
    type: "huggingface"
    dataset_name: "HuggingFaceH4/MATH-500"
    split: "test"
    subset: null
    text_field: "problem"

  # embedding_backend: "openai" uses OpenAI embeddings, "huggingface" uses sentence-transformers
  embedding_backend: "openai"
  embedding_model: "text-embedding-3-large"
  # embedding_dimensions is ignored for HuggingFace models (uses model's native dimension)
  embedding_dimensions: 3072

  # Internal diversity metrics (only need synthetic data)
  internal_diversity_metrics:
    - "mdm"      # Mean Distance to Medoid - measures internal coherence
    - "entropy"  # Differential Entropy - measures diversity/uncertainty

  # Comparison metrics (need both synthetic and real data)
  comparison_metrics:
    - "pad"           # Proxy-A-Distance - measures distribution similarity
    - "mmd"           # Maximum Mean Discrepancy - measures distribution distance
    - "kl_divergence" # KL Divergence - measures novelty (how different from real)

  pad_classifier: "LogisticRegression"  # Options: "LogisticRegression", "RandomForest", "MLP"

  mmd_kernel: "polynomial"  # Options: "polynomial", "rbf", "laplacian", "linear", "sigmoid"
  mmd_degree: 3

  mdm_n_clusters: 5
  mdm_metric: "euclidean"

  entropy_k: 4  # Number of nearest neighbors for differential entropy computation

  kl_k: 4  # Number of nearest neighbors for KL divergence computation

  # Optional UMAP dimensionality reduction (like InfoSynth)
  umap_n_components: 10  # Set to null to disable and use original embeddings
  umap_n_neighbors: 15  # Number of neighbors for UMAP
  umap_min_dist: 0.1  # Minimum distance for UMAP
  umap_metric: "cosine"  # Distance metric for UMAP

exp_cfg:
  exp_id: "quality_evaluation"

defaults:
  - _self_
